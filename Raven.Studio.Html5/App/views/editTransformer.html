<ul class="breadcrumb">
    <li>
        <h3>
            <a href="#databases">
                Databases
            </a>
        </h3>
    </li>
    <li data-bind="with: activeDatabase">
        <a data-bind="text: name, attr: { href: $parent.appUrls.documents }"></a>
    </li>
    <li>
        <a data-bind="attr: { href: appUrls.transformers }">Transformers</a>
    </li>
    <li class="active">
        <span data-bind="text: transformerName, visible: transformerName() != null"></span>
        <span data-bind="visible: transformerName() == null">New Transformer</span>
    </li>
</ul>

<section id="editTransformerContainer">
    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-primary" data-bind="click: saveTransformer, enable: $root.isSaveEnabled()" title="Save the transformer (Alt+S)" accesskey="S">
                <i class="fa fa-save"></i>
            </button>
        </div>
        <div class="btn-group">
            <button class="btn btn-default" title="Format transformer" data-bind="click: formatTransformer">
                <i class="fa fa-magic"></i>
            </button>
        </div>
        <div class="btn-group" data-bind="visible: isEditingExistingTransformer">
            <button class="btn btn-default" title="Refresh from server, discarding any unsaved changes" data-bind="click: refreshTransformer">
                <i class="fa fa-refresh"></i>
            </button>
            <button class="btn btn-danger" data-bind="click: deleteTransformer" title="Delete the transformer (Alt+Shift+Delete)">
                <i class="fa fa-trash-o"></i>
            </button>
        </div>
    </div>


    <br />
    <form class="form-horizontal" role="form" data-bind="with: editedTransformer, dynamicHeight: { resizeTrigger: window.ravenStudioWindowHeight(), target: 'footer' }">
        <div class="form-group">
            <label for="transformerName" class="col-md-1 control-label" title="Transformer name(Alt+I)">Name</label>
            <div class="col-md-11">
                <div class="row">
                    <div class="col-md-11">
                        <input type="text" class="form-control" id="transformerName" placeholder="Transformer name" accesskey="I" data-bind="value: name, valueUpdate: 'afterkeyup'" />
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label id="transformerResultsLabel" style="cursor: help;" class="col-sm-1 control-label" data-placement="auto top" data-original-title="Transform" data-trigger="hover">
                Transform
                <i class="fa fa-info-circle text-info"></i>
            </label>
            <div class="col-md-11">
                <div class="row">
                    <div class="col-md-11">
                        <pre id="transformerAceEditor" class="form-control transformer" data-bind="aceEditor: { code: transformResults, getFocus: true}, dynamicHeight: { resizeTrigger: window.ravenStudioWindowHeight(), target: 'footer', bottomMargin: 65 }"></pre>
                    </div>
                </div>
                <br />
            </div>
        </div>
    </form>

</section>
